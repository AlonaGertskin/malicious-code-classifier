#include <stdio.h>
#include <ctype.h>

void expand(char s1[], char s2[]) {
    char prev = '\0', curr = '\0', next = '\0', last = '\0';
    int idx = 0;
    for (int i = 1; s1[i] != '\0'; i++)
    {
        prev = s1[i - 1];
        curr = s1[i];
        next = (s1[i + 1] != '\0')? s1[i + 1] : '\0';

        if ((isalpha(prev) || isalnum(prev)) && curr == '-' && (isalpha(next) || isalnum(next)) && prev < next) {
            for (int j = 0; j <= next - prev; j++) {
                printf("j=%d, last= %c\n", j, last);
                if (prev == last) continue;
                s2[idx++] = prev + j;
                last = prev + j;
            }
        }
        else if (prev == '-' && (isalpha(curr) || isalnum(curr)) && next == '-') {
            if (i > 2 && curr != s1[i - 2]) {
                s2[idx++] = '-';
            }
            last = '-';
        }
    }

    s2[idx] = '\0';
}

int main() {

    char s0[] = "-a-dx-z0-9-";
    char s1[] = "a-b-c";
    char s2[256];
    expand(s1, s2);
    for (int i = 0; s2[i] != '\0'; i++) {
        printf("%c", s2[i]);
    }
    printf("\n");
}